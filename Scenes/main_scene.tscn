[gd_scene load_steps=25 format=3 uid="uid://b6qthxoydelxv"]

[ext_resource type="Script" uid="uid://c56o0l1eo5f5k" path="res://Scripts/world_view.gd" id="1_52fb6"]
[ext_resource type="PackedScene" uid="uid://c2vjbnjw2np13" path="res://Subscenes/random_item.tscn" id="2_6l7je"]
[ext_resource type="Script" uid="uid://dmbu0fdp3hxqq" path="res://Scripts/rotate_around.gd" id="2_x6ack"]
[ext_resource type="PackedScene" uid="uid://b8l8mhyb5sfwf" path="res://Subscenes/random_person.tscn" id="3_jv6wh"]
[ext_resource type="Script" uid="uid://by0rhh6airqjb" path="res://Scripts/screen_resizer.gd" id="3_m1efj"]
[ext_resource type="Script" uid="uid://7mv8rlcaqlga" path="res://Scripts/item_slot.gd" id="3_maf8m"]
[ext_resource type="Script" uid="uid://dsalx1r160eac" path="res://Scripts/cursor_object.gd" id="5_6ev3c"]
[ext_resource type="Texture2D" uid="uid://dc3kn44ygtcai" path="res://Assets/concepts/automatCleanConceptProBubnu1.png" id="5_iacmt"]
[ext_resource type="Script" uid="uid://vysddvus01vk" path="res://Scripts/dispensor_selector.gd" id="7_huasi"]
[ext_resource type="Script" uid="uid://ci5q4jckgmagi" path="res://Scripts/mouse_cursor.gd" id="10_76v2p"]
[ext_resource type="Texture2D" uid="uid://1y7wg77wd30x" path="res://Assets/concepts/cursor.png" id="10_mai8y"]

[sub_resource type="BoxShape3D" id="BoxShape3D_6l7je"]
size = Vector3(10, 0.1, 10)

[sub_resource type="SphereShape3D" id="SphereShape3D_huasi"]
radius = 0.1

[sub_resource type="BoxShape3D" id="BoxShape3D_iacmt"]
size = Vector3(1, 0.219116, 0.319092)

[sub_resource type="BoxShape3D" id="BoxShape3D_drdnd"]
size = Vector3(1, 1.8985, 0.311646)

[sub_resource type="BoxShape3D" id="BoxShape3D_maf8m"]
size = Vector3(0.489746, 0.692017, 0.319092)

[sub_resource type="BoxShape3D" id="BoxShape3D_m1efj"]
size = Vector3(0.170654, 1.74869, 0.319092)

[sub_resource type="BoxShape3D" id="BoxShape3D_huasi"]
size = Vector3(0.489746, 0.692017, 0.319092)

[sub_resource type="BoxShape3D" id="BoxShape3D_mai8y"]
size = Vector3(0.218384, 1.46027, 0.319092)

[sub_resource type="Curve" id="Curve_maf8m"]
_limits = [0.0, 1.0, -1.0, 1.0]
bake_resolution = 1000
_data = [Vector2(-1, 0), 0.0, 0.0, 0, 0, Vector2(0.179747, 0.113763), 0.224311, 0.224311, 0, 0, Vector2(0.782278, 1), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="SphereShape3D" id="SphereShape3D_iacmt"]
radius = 0.01

[sub_resource type="SphereMesh" id="SphereMesh_6ev3c"]
radius = 0.05
height = 0.1

[sub_resource type="BoxShape3D" id="BoxShape3D_76v2p"]
size = Vector3(0.5, 0.5, 0.5)

[sub_resource type="Curve" id="Curve_jv6wh"]
_limits = [0.0, 1.0, 0.0, 2.0]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 0.05), 0.0, 0.0, 0, 0, Vector2(2, 0.01), 0.0, 0.0, 0, 0]
point_count = 3

[node name="MainScene" type="Node3D"]

[node name="Ground" type="CSGBox3D" parent="."]
size = Vector3(10, 0.1, 10)

[node name="Ground" type="StaticBody3D" parent="Ground"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ground/Ground"]
shape = SubResource("BoxShape3D_6l7je")

[node name="Automat" type="CSGBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.16859, 1.08019, -0.00439191)
size = Vector3(1, 2, 0.7)

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(0.16, 0, 0, 0, 0.16, 0, 0, 0, 0.16, -1.15448, 0.995817, 0.364562)
texture = ExtResource("5_iacmt")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.54822, -0.503586, 0.667724, 0, 0.798394, 0.602136, -0.836334, -0.330103, 0.437696, 3.26873, 2.51421, 0)
shadow_enabled = true

[node name="RandomPerson" parent="." instance=ExtResource("3_jv6wh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.46429, 1.05, 0.248835)

[node name="Control" type="Control" parent="." node_paths=PackedStringArray("left_subviewport", "right_subviewport", "divider")]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("3_m1efj")
left_subviewport = NodePath("SubViewportContainer/SubViewport")
right_subviewport = NodePath("SubViewportContainer2/SubViewport")
divider = NodePath("ColorRect")

[node name="SubViewportContainer" type="SubViewportContainer" parent="Control"]
layout_mode = 0
offset_left = 3.0
offset_top = -6.0
offset_right = 963.0
offset_bottom = 1074.0

[node name="SubViewport" type="SubViewport" parent="Control/SubViewportContainer"]
handle_input_locally = false
physics_object_picking = true
size = Vector2i(960, 1080)
render_target_update_mode = 4

[node name="ItemSlot" type="Area3D" parent="Control/SubViewportContainer/SubViewport" node_paths=PackedStringArray("item_in_slot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.455, 1.84522, 0.489491)
collision_layer = 0
collision_mask = 16
script = ExtResource("3_maf8m")
item_in_slot = NodePath("RandomItem")

[node name="RandomItem" parent="Control/SubViewportContainer/SubViewport/ItemSlot" instance=ExtResource("2_6l7je")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 0, -0.1)
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/ItemSlot"]
shape = SubResource("SphereShape3D_huasi")

[node name="ItemSlot2" type="Area3D" parent="Control/SubViewportContainer/SubViewport" node_paths=PackedStringArray("item_in_slot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.19922, 1.84522, 0.489491)
collision_layer = 0
collision_mask = 16
script = ExtResource("3_maf8m")
item_in_slot = NodePath("RandomItem")

[node name="RandomItem" parent="Control/SubViewportContainer/SubViewport/ItemSlot2" instance=ExtResource("2_6l7je")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 0, -0.1)
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/ItemSlot2"]
shape = SubResource("SphereShape3D_huasi")

[node name="ItemSlot3" type="Area3D" parent="Control/SubViewportContainer/SubViewport" node_paths=PackedStringArray("item_in_slot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.925311, 1.81878, 0.489491)
collision_layer = 0
collision_mask = 16
script = ExtResource("3_maf8m")
item_in_slot = NodePath("RandomItem")

[node name="RandomItem" parent="Control/SubViewportContainer/SubViewport/ItemSlot3" instance=ExtResource("2_6l7je")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 0, -0.1)
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/ItemSlot3"]
shape = SubResource("SphereShape3D_huasi")

[node name="ItemSlot4" type="Area3D" parent="Control/SubViewportContainer/SubViewport" node_paths=PackedStringArray("item_in_slot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.44782, 1.49412, 0.489491)
collision_layer = 0
collision_mask = 16
script = ExtResource("3_maf8m")
item_in_slot = NodePath("RandomItem")

[node name="RandomItem" parent="Control/SubViewportContainer/SubViewport/ItemSlot4" instance=ExtResource("2_6l7je")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 0, -0.1)
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/ItemSlot4"]
shape = SubResource("SphereShape3D_huasi")

[node name="ItemSlot5" type="Area3D" parent="Control/SubViewportContainer/SubViewport" node_paths=PackedStringArray("item_in_slot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.18925, 1.50943, 0.489491)
collision_layer = 0
collision_mask = 16
script = ExtResource("3_maf8m")
item_in_slot = NodePath("RandomItem")

[node name="RandomItem" parent="Control/SubViewportContainer/SubViewport/ItemSlot5" instance=ExtResource("2_6l7je")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 0, -0.1)
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/ItemSlot5"]
shape = SubResource("SphereShape3D_huasi")

[node name="ItemSlot6" type="Area3D" parent="Control/SubViewportContainer/SubViewport" node_paths=PackedStringArray("item_in_slot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.918761, 1.50943, 0.489491)
collision_layer = 0
collision_mask = 16
script = ExtResource("3_maf8m")
item_in_slot = NodePath("RandomItem")

[node name="RandomItem" parent="Control/SubViewportContainer/SubViewport/ItemSlot6" instance=ExtResource("2_6l7je")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 0, -0.1)
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/ItemSlot6"]
shape = SubResource("SphereShape3D_huasi")

[node name="ItemSlot7" type="Area3D" parent="Control/SubViewportContainer/SubViewport" node_paths=PackedStringArray("item_in_slot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.45803, 1.14368, 0.489491)
collision_layer = 0
collision_mask = 16
script = ExtResource("3_maf8m")
item_in_slot = NodePath("RandomItem")

[node name="RandomItem" parent="Control/SubViewportContainer/SubViewport/ItemSlot7" instance=ExtResource("2_6l7je")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 0, -0.1)
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/ItemSlot7"]
shape = SubResource("SphereShape3D_huasi")

[node name="ItemSlot8" type="Area3D" parent="Control/SubViewportContainer/SubViewport" node_paths=PackedStringArray("item_in_slot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.19095, 1.15559, 0.489491)
collision_layer = 0
collision_mask = 16
script = ExtResource("3_maf8m")
item_in_slot = NodePath("RandomItem")

[node name="RandomItem" parent="Control/SubViewportContainer/SubViewport/ItemSlot8" instance=ExtResource("2_6l7je")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 0, -0.1)
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/ItemSlot8"]
shape = SubResource("SphereShape3D_huasi")

[node name="ItemSlot9" type="Area3D" parent="Control/SubViewportContainer/SubViewport" node_paths=PackedStringArray("item_in_slot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.922163, 1.15729, 0.489491)
collision_layer = 0
collision_mask = 16
script = ExtResource("3_maf8m")
item_in_slot = NodePath("RandomItem")

[node name="RandomItem" parent="Control/SubViewportContainer/SubViewport/ItemSlot9" instance=ExtResource("2_6l7je")]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, 0, 0, -0.1)
collision_layer = 3

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/ItemSlot9"]
shape = SubResource("SphereShape3D_huasi")

[node name="Table" type="StaticBody3D" parent="Control/SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.28042, 0.945635, 0.699867)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/Table"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.544801, -0.202026)
shape = SubResource("BoxShape3D_iacmt")

[node name="CollisionShape3D6" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/Table"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.29489, -0.0151974)
shape = SubResource("BoxShape3D_drdnd")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/Table"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.255127, -0.308351, -0.202026)
shape = SubResource("BoxShape3D_maf8m")

[node name="CollisionShape3D5" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/Table"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.414673, 0.219985, -0.202026)
shape = SubResource("BoxShape3D_m1efj")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/Table"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.487675, -0.308351, -0.202026)
shape = SubResource("BoxShape3D_huasi")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/Table"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.623356, 0.407693, -0.202026)
shape = SubResource("BoxShape3D_mai8y")

[node name="RotateAround" type="Node3D" parent="Control/SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.17864, 1.50314, 0.0504672)
script = ExtResource("2_x6ack")
mouse_height_to_pos_curve = SubResource("Curve_maf8m")

[node name="AutomatView" type="Camera3D" parent="Control/SubViewportContainer/SubViewport/RotateAround"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.30489)

[node name="CursorObject" type="AnimatableBody3D" parent="Control/SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.20982, 1.71966, 0.5)
collision_layer = 16
collision_mask = 0
script = ExtResource("5_6ev3c")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/CursorObject"]
shape = SubResource("SphereShape3D_iacmt")

[node name="PinJoint3D" type="PinJoint3D" parent="Control/SubViewportContainer/SubViewport/CursorObject"]
node_a = NodePath("..")
params/impulse_clamp = 0.2

[node name="MeshInstance3D" type="MeshInstance3D" parent="Control/SubViewportContainer/SubViewport/CursorObject"]
visible = false
mesh = SubResource("SphereMesh_6ev3c")

[node name="DispensorSelector" type="Area3D" parent="Control/SubViewportContainer/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.18287, 0.637081, 0.503324)
script = ExtResource("7_huasi")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Control/SubViewportContainer/SubViewport/DispensorSelector"]
shape = SubResource("BoxShape3D_76v2p")

[node name="SubViewportContainer2" type="SubViewportContainer" parent="Control"]
layout_mode = 0
offset_left = 960.0
offset_right = 1920.0
offset_bottom = 1080.0

[node name="SubViewport" type="SubViewport" parent="Control/SubViewportContainer2"]
handle_input_locally = false
size = Vector2i(960, 1080)
render_target_update_mode = 4

[node name="Node3D" type="Node3D" parent="Control/SubViewportContainer2/SubViewport"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.47223, 1.46115, 3.07052)

[node name="WorldView" type="Camera3D" parent="Control/SubViewportContainer2/SubViewport/Node3D"]
script = ExtResource("1_52fb6")
spawn_shootable = ExtResource("2_6l7je")
shake_curve = SubResource("Curve_jv6wh")

[node name="AimRotation" type="Node3D" parent="Control/SubViewportContainer2/SubViewport/Node3D/WorldView"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, -0.7)

[node name="SpawnPosition" type="Node3D" parent="Control/SubViewportContainer2/SubViewport/Node3D/WorldView/AimRotation"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.199625, 0.263818)

[node name="ColorRect" type="ColorRect" parent="Control"]
layout_mode = 2
offset_left = 960.0
offset_right = 962.0
offset_bottom = 1080.0

[node name="Node2D" type="Node2D" parent="."]
script = ExtResource("10_76v2p")

[node name="Cursor" type="Sprite2D" parent="Node2D"]
position = Vector2(31.35, 40.57)
texture = ExtResource("10_mai8y")
